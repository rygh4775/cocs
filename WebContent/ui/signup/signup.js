$(document).ready(function () {	var signupButton = $('#register').on('click', function(){		var validator = $('#signupForm').validate({			rules: {				email: {					email: true,					required: true				},				password: {					minlength: 8,					required: true				},				confirmPassword: {					minlength: 8,					required: true,					equalTo: "#password"				}			},			highlight : function(element) {				$(element).css('margin-bottom', '0px');				$(element).closest('.form-group').removeClass('has-success').addClass('has-error');			},			success : function(element) {				$(element).prev().css('margin-bottom', '0px');				element.closest('.form-group').removeClass('has-error').addClass('has-success');			}		});				validator.form();				if (validator.errorList.length == 0){			$.ajax({				type: "POST",				url: contextPath + '/doSignup.json',				data : $('#signupForm').serialize(),				dataType : "json",				success: function(data) {					if(data.success) {						location.href = contextPath + '/sentMail';					} else {						utils.noty.error(data.message);					}				},				error : UI.AjaxErrorHandler			});		}	});	$('#signupForm .form-control:last').keypress(function(event){		var keycode = (event.keyCode ? event.keyCode : event.which);		if(keycode == '13'){			signupButton.click();		}		event.stopPropagation();	});	});