package com.cocs.handler;import java.util.ArrayList;import java.util.Collection;import java.util.Collections;import java.util.Iterator;import java.util.LinkedHashMap;import java.util.List;import org.apache.commons.collections.IteratorUtils;public class ResponseRowsImpl extends LinkedHashMap<String, Object> implements ResponseRows<String, Object>{	private static final long serialVersionUID = 1379218414564505192L;	private ResponseRowsImpl() {		super();		put("rows",new ArrayList<Object>());	}		public ResponseRowsImpl(String vendor) {		this();		put("vendor", vendor);	}	public void setRows(Iterable<?> result){		List<?> list = IteratorUtils.toList(result.iterator());		put("rows",list);	}	public void setRows(Iterator<?> result){		List<?> list = IteratorUtils.toList(result);		put("rows",list);	}	public void setRows(Object [] result){		List<Object> list = new ArrayList<Object>();		Collections.addAll(list, result);		setRows(list);	}	@Override	public Collection<?> getRows(){		return (Collection<?>)get("rows");	}	public void setTotalCount(long count){		put("totalCount",count);	}	@SuppressWarnings("unchecked")	@Override	public long getTotalCount(){		if (containsKey("totalCount")){			return Long.parseLong(String.valueOf(get("totalCount")));		} else {			return ((List<Object>)get("rows")).size();		}	}}