package com.cocs;import java.util.Properties;import javax.mail.Message;import javax.mail.MessagingException;import javax.mail.PasswordAuthentication;import javax.mail.Session;import javax.mail.Transport;import javax.mail.internet.InternetAddress;import javax.mail.internet.MimeMessage;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import com.cocs.common.Env;@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(locations = { "classpath:applicationContext-test.xml"})public class EmailTest {	@Test	public void sendMail(){				String mailTo = "crzsnail@gmail.com";		String subject = "회원 가입 인증";		String body = "안녕하세요 COCS - Cloud of Clouds 입니다." +				"\n\n 회원 가입 인증을 원하시면 <a href='http://rygh4775.blog.me'>여기</a>를 클릭 해주세요." +				"\n\n 감사합니다.";				Properties props = new Properties();		props.put("mail.smtp.host", Env.getProperty("smtp.address"));		props.put("mail.smtp.port", Env.getProperty("smtp.port"));		props.put("mail.smtp.socketFactory.port", "465");		props.put("mail.smtp.socketFactory.class", "javax.net.ssl.SSLSocketFactory");		props.put("mail.smtp.auth", "true");				Session session = Session.getDefaultInstance(props,				new javax.mail.Authenticator() {			protected PasswordAuthentication getPasswordAuthentication() {				return new PasswordAuthentication(Env.getProperty("smtp.userId"), Env.getProperty("smtp.password"));			}		});				try {			Message message = new MimeMessage(session);			message.setFrom(new InternetAddress(Env.getProperty("smtp.senderName")));			message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(mailTo));			message.setSubject(subject);			message.setText(body);						Transport.send(message);						System.out.println("Done");		} catch (MessagingException e) {			throw new RuntimeException(e);		}	}	}